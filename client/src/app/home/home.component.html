<div class="greeting" *ngIf="lastMoods.length == 0">
  <p>
    Please click the button in the bottom right corner to get started.
  </p>
</div>

<mat-card class="large-card" *ngIf="lastMoods.length > 0">
  <mat-card-header>
    <mat-card-title>Your moods</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <table class="mood-table">
      <thead>
        <th>Mood</th>
        <th>Time</th>
      </thead>
      <tbody>
        <tr *ngFor="let mood of lastMoods">
          <td>{{ moodEnumToString(mood.mood) }}</td>
          <td>{{ mood.time | timeago: live }}</td>
        </tr>
      </tbody>
    </table>
  </mat-card-content>
  <mat-card-actions> </mat-card-actions>
</mat-card>

<mat-card class="large-card" *ngIf="lastMoods.length >= 2">
  <mat-card-header>
    <mat-card-title>Mood over time</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <ngx-charts-line-chart
      [results]="lineChartData"
      xAxis="true"
      yAxis="true"
      showYAxisLabel="true"
      yAxisLabel="My Mood"
      [yAxisTickFormatting]="moodEnumToString"
      autoScale="true"
      timeline="true"
    >
    </ngx-charts-line-chart>
  </mat-card-content>
</mat-card>

<mat-card class="large-card" *ngIf="lastMoods.length >= 2">
  <mat-card-header>
    <mat-card-title>Average Mood</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <ngx-charts-pie-chart [results]="pieChartData" labels="true">
    </ngx-charts-pie-chart>
  </mat-card-content>
</mat-card>

<button
  class="floating-button"
  mat-fab
  color="primary"
  routerLink="/new"
  matTooltip="Record your mood"
  matTooltipPosition="above"
>
  <mat-icon>add</mat-icon>
</button>
